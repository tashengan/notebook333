### 1.文件夹中图片取样

```
# 深度学习过程中，需要制作训练集和验证集、测试集。
import os, random, shutil

def moveFile(fileDir):
    pathDir = os.listdir(fileDir)  # 取图片的原始路径
    filenumber = len(pathDir)
    rate = 0.02  # 自定义抽取图片的比例，比方说100张抽10张，那就是0.1
    picknumber = int(filenumber * rate)  # 按照rate比例从文件夹中取一定数量图片
    sample = random.sample(pathDir, picknumber)  # 随机选取picknumber数量的样本图片
    print(sample)
    for name in sample:
        shutil.move(fileDir + name, tarDir + name)
    return

if __name__ == '__main__':
    fileDir = "E:/目标检测数据集/安阳数据采集/video_指控车_2024.3.7/正/270°-T (4)/"  # 源图片文件夹路径
    tarDir = 'C:/Users/33369/Desktop/安阳数据集/正例/指控车/'  # 移动到新的文件夹路径
    moveFile(fileDir)
```

### 2.批量在标签json文件中添加内容

```
import os
import json

# 定义目标行
target_line = "1920"

# 指定要处理的文件夹路径
folder_path = 'D:/python/DpDnet-master/images'

# 获取文件夹中所有 JSON 文件的路径
json_files = [f for f in os.listdir(folder_path) if f.endswith('.json')]

# 对每个 JSON 文件执行操作
for file_name in json_files:
    file_path = os.path.join(folder_path, file_name)

    # 读取 JSON 文件
    with open(file_path, 'r') as file:
        data = file.readlines()

    # 寻找目标行并在其末尾添加 ",\"Hit\": 1"
    for idx, line in enumerate(data):
        if target_line in line:
            # 在目标行末尾添加 ",\"Hit\": 1"
            data[idx] = line.rstrip() + ', \n "Hit": 1\n'
            break

    # 写入修改后的内容到 JSON 文件
    with open(file_path, 'w') as file:
        file.writelines(data)
```

